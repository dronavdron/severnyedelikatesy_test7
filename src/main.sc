require: slotfilling/slotFilling.sc
  module = sys.zb-common
theme: /

    state: Start
        q!: $regex</start>
        a: –ù–∞—á–Ω—ë–º.

    state: Hello
        intent!: /–ø—Ä–∏–≤–µ—Ç
        a: –ü—Ä–∏–≤–µ—Ç –ø—Ä–∏–≤–µ—Ç

    state: Bye
        intent!: /–ø–æ–∫–∞
        a: –ü–æ–∫–∞ –ø–æ–∫–∞

    state: NoMatch
        event!: noMatch
        a: –Ø –Ω–µ –ø–æ–Ω—è–ª. –í—ã —Å–∫–∞–∑–∞–ª–∏: {{$request.query}}

    state: Match
        event!: match
        a: {{$context.intent.answer}}

    -----------------------------------------------------
    -- –ö–ê–¢–ê–õ–û–ì –°–ï–í–ï–†–ù–´–• –î–ï–õ–ò–ö–ê–¢–ï–°–û–í (–¢–ï–°–¢–û–í–ê–Ø –í–ï–†–°–ò–Ø)
    -----------------------------------------------------

    state: Catalog
        q!: $regex(/–∫–∞—Ç–∞–ª–æ–≥|—Ç–æ–≤–∞—Ä—ã|–¥–µ–ª–∏–∫–∞—Ç–µ—Å—ã/i)
        a:
            –í–æ—Ç —Ç–µ—Å—Ç–æ–≤—ã–π –∫–∞—Ç–∞–ª–æ–≥ —Å–µ–≤–µ—Ä–Ω—ã—Ö –¥–µ–ª–∏–∫–∞—Ç–µ—Å–æ–≤:

            {{carousel([
                {
                    "title": "–°–µ–≤–µ—Ä–Ω–∞—è —Å–µ–º–≥–∞ –æ—Ö–ª–∞–∂–¥—ë–Ω–Ω–∞—è",
                    "description": "–ù–∞—Å—Ç–æ—è—â–∏–π —Å–µ–≤–µ—Ä–Ω—ã–π –¥–µ–ª–∏–∫–∞—Ç–µ—Å. –¶–µ–Ω–∞: 1990 ‚ÇΩ/–∫–≥",
                    "imageUrl": "https://i.ibb.co/g9CHdP0/salmon-demo.jpg",
                    "buttons": [
                        {
                            "text": "–ó–∞–∫–∞–∑–∞—Ç—å",
                            "transition": "OrderStart",
                            "data": {
                                "product": "–°–µ–≤–µ—Ä–Ω–∞—è —Å–µ–º–≥–∞ –æ—Ö–ª–∞–∂–¥—ë–Ω–Ω–∞—è",
                                "price": "1990 ‚ÇΩ/–∫–≥"
                            }
                        }
                    ]
                }
            ])}}

    -----------------------------------------------------
    -- –û–§–û–†–ú–õ–ï–ù–ò–ï –ó–ê–ö–ê–ó–ê
    -----------------------------------------------------

    state: OrderStart
        a: –û—Ç–ª–∏—á–Ω–æ! –í—ã –≤—ã–±—Ä–∞–ª–∏: {{$data.product}} ({{$data.price}}).
            –ù–∞–ø–∏—à–∏—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –∫–∞–∫ –≤–∞—Å –∑–æ–≤—É—Ç.
        go!: OrderName

    state: OrderName
        q: {{$request.query}}
        set: clientName = {{$request.query}}
        a: –°–ø–∞—Å–∏–±–æ, {{$request.query}}! –¢–µ–ø–µ—Ä—å —É–∫–∞–∂–∏—Ç–µ –≤–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞.
        go!: OrderPhone

    state: OrderPhone
        q: $regex(/\+?\d{10,15}/)
        set:
            clientPhone = {{$request.query}}
            orderedProduct = {{$data.product}}
            orderedPrice = {{$data.price}}
        a: –û—Ç–ª–∏—á–Ω–æ! –í–∞—à –∑–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω.  
            –ù–∞—à –º–µ–Ω–µ–¥–∂–µ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.
        go!: SendOrder

    state: OrderPhone
        q!: $regex(/.*/)
        a: –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ +79991234567

    -----------------------------------------------------
    -- –ü–ï–†–ï–î–ê–ß–ê –ó–ê–ö–ê–ó–ê –ê–î–ú–ò–ù–£ (–ü–û–ö–ê –í –õ–û–ì)
    -----------------------------------------------------

    state: SendOrder
        a:
            –ü–æ–ª—É—á–µ–Ω –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑:

            üîπ –¢–æ–≤–∞—Ä: {{$session.orderedProduct}}
            üîπ –¶–µ–Ω–∞: {{$session.orderedPrice}}
            üîπ –ò–º—è –∫–ª–∏–µ–Ω—Ç–∞: {{$session.clientName}}
            üîπ –¢–µ–ª–µ—Ñ–æ–Ω: {{$session.clientPhone}}

            –Ø –ø–µ—Ä–µ–¥–∞–ª–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É. –°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞–∫–∞–∑!
        go!: Start


